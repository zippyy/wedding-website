<div class="married-timer">
  <h2 class="married-timer-heading">Days Since We Got Married</h2>

  <div class="married-timer-row">
    <div class="married-timer-unit">
      <div class="married-timer-digits" data-part="days"></div>
      <div class="married-timer-label">Days</div>
    </div>

    <div class="married-timer-sep">•</div>

    <div class="married-timer-unit">
      <div class="married-timer-digits" data-part="hours"></div>
      <div class="married-timer-label">Hours</div>
    </div>

    <div class="married-timer-sep">•</div>

    <div class="married-timer-unit">
      <div class="married-timer-digits" data-part="minutes"></div>
      <div class="married-timer-label">Minutes</div>
    </div>

    <div class="married-timer-sep">•</div>

    <div class="married-timer-unit">
      <div class="married-timer-digits" data-part="seconds"></div>
      <div class="married-timer-label">Seconds</div>
    </div>
  </div>
</div>

<style>
  .married-timer {
    text-align: center;
    margin-top: 40px;
    font-family: 'Share Tech Mono', 'Courier New', monospace;
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
  }

  .married-timer-heading {
    font-size: 32px;
    font-weight: 400;
    margin-bottom: 30px;
  }

  /* One single horizontal strip, no wrapping */
  .married-timer-row {
    display: inline-flex;
    flex-wrap: nowrap;
    white-space: nowrap;
    justify-content: center;
    align-items: center;
    gap: 40px;
  }

  .married-timer-unit,
  .married-timer-sep {
    flex: 0 0 auto;
  }

  .married-timer-unit {
    text-align: center;
  }

  .married-timer-label {
    margin-top: 10px;
    font-size: 18px;
    color: #111;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  }

  .married-timer-sep {
    font-size: 40px;
    color: #444;
    margin-bottom: 60px;
  }

  .married-timer-digits {
    display: flex;
    gap: 6px;
    justify-content: center;
  }

  .married-timer-card {
    width: 80px;
    height: 110px;
    background: #2f2f2f;
    color: #c7c7c7;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 85px;
    line-height: 1;
    border-top: 1px solid #000;
    border-bottom: 1px solid #000;
  }

  /* subtle change animation when digit updates */
  .married-timer-card.married-timer-change {
    animation: marriedTimerPop 0.25s ease-out;
  }

  @keyframes marriedTimerPop {
    0%   { transform: scale(0.9); opacity: 0.7; }
    100% { transform: scale(1);   opacity: 1; }
  }

  @media (max-width: 700px) {
    .married-timer-card { width: 55px; height: 75px; font-size: 55px; }
    .married-timer-sep { font-size: 28px; margin-bottom: 40px; }
    .married-timer-label { font-size: 16px; }
  }
</style>

<script>
(function() {
  // Find this instance’s root
  var scripts = document.getElementsByTagName('script');
  var thisScript = scripts[scripts.length - 1];
  var root = thisScript.previousElementSibling;
  while (root && !root.classList.contains('married-timer')) {
    root = root.previousElementSibling;
  }
  if (!root || root.dataset.initialized === '1') return;
  root.dataset.initialized = '1';

  var startDate = new Date("2025-04-26T18:00:00");
  var lastVals = { d: "", h: "", m: "", s: "" };

  function createCard(val) {
    var el = document.createElement('div');
    el.className = 'married-timer-card';
    el.textContent = val;
    return el;
  }

  function updateGroup(container, oldStr, newStr) {
    newStr = newStr.toString();

    // Adjust number of digit cards
    if (container.children.length !== newStr.length) {
      container.innerHTML = "";
      for (var i = 0; i < newStr.length; i++) {
        container.appendChild(createCard(newStr[i]));
      }
    }

    for (var i = 0; i < newStr.length; i++) {
      var card = container.children[i];
      var newVal = newStr[i];
      var oldVal = oldStr[i] || newVal;
      if (newVal !== oldVal) {
        card.textContent = newVal;
        card.classList.add('married-timer-change');
        (function(c){
          setTimeout(function(){ c.classList.remove('married-timer-change'); }, 250);
        })(card);
      }
    }
  }

  function tick() {
    var now = new Date();
    var diff = now - startDate;
    if (diff < 0) diff = 0;

    var sec = Math.floor(diff / 1000);
    var d = Math.floor(sec / 86400).toString();
    var h = String(Math.floor((sec % 86400) / 3600)).padStart(2, '0');
    var m = String(Math.floor((sec % 3600) / 60)).padStart(2, '0');
    var s = String(sec % 60).toString().padStart(2, '0');

    var daysEl    = root.querySelector('[data-part="days"]');
    var hoursEl   = root.querySelector('[data-part="hours"]');
    var minutesEl = root.querySelector('[data-part="minutes"]');
    var secondsEl = root.querySelector('[data-part="seconds"]');

    updateGroup(daysEl,    lastVals.d, d);
    updateGroup(hoursEl,   lastVals.h, h);
    updateGroup(minutesEl, lastVals.m, m);
    updateGroup(secondsEl, lastVals.s, s);

    lastVals = { d: d, h: h, m: m, s: s };
  }

  tick();
  setInterval(tick, 1000);
})();
</script>
