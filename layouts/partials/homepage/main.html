<main>
    <div class="image image1"></div>

    <br>

    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

<style>
/* ----- LAYOUT ----- */
#married-flip-timer {
  text-align: center;
  margin-top: 40px;
  font-family: "Share Tech Mono", monospace;
}

#married-flip-timer h2 {
  font-size: 32px;
  font-weight: 400;
  margin-bottom: 35px;
}

/* ----- UNITS CONTAINER ----- */
.flip-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 40px;
}

/* ----- LABELS ----- */
.unit-label {
  font-size: 20px;
  margin-top: 12px;
  color: #111;
}

/* ----- SEPARATOR DOTS ----- */
.flip-sep {
  font-size: 42px;
  color: #444;
  margin-bottom: 60px;
}

/* ----- DIGIT PANEL STYLE ----- */
.flip-unit {
  text-align: center;
}

.flip-group {
  display: flex;
  gap: 8px;
}

/* Each digit block container */
.flip-card {
  position: relative;
  width: 80px;
  height: 110px;
  perspective: 300px;
}

/* Shared styles for all digit faces */
.flip-card-face {
  width: 100%;
  height: 50%;
  background: #2e2e2e;
  color: #c7c7c7;
  font-size: 85px;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  border-top: 1px solid #000;
  border-bottom: 1px solid #000;
}

/* Top and bottom halves */
.flip-card-top {
  border-bottom: 1px solid #111;
}

.flip-card-bottom {
  border-top: 1px solid #111;
  transform-origin: top;
}

/* Animated flipping half */
.flip-animate {
  position: absolute;
  left: 0;
  top: 0;
  height: 50%;
  width: 100%;
  background: #2e2e2e;
  color: #c7c7c7;
  font-size: 85px;
  display: flex;
  justify-content: center;
  align-items: center;
  transform-origin: bottom;
  animation: flipDown 0.7s ease-in-out forwards;
}

/* Flip animation */
@keyframes flipDown {
  0%   { transform: rotateX(0deg); }
  100% { transform: rotateX(-90deg); }
}

/* Responsive */
@media(max-width: 700px) {
  .flip-card { width: 55px; height: 75px; }
  .flip-card-face, .flip-animate { font-size: 55px; }
  .flip-sep { font-size: 28px; }
  .unit-label { font-size: 16px; }
}
</style>

<div id="married-flip-timer">
  <h2>Days Since We Got Married</h2>

  <div class="flip-row">

    <!-- DAYS -->
    <div class="flip-unit">
      <div class="flip-group">
        <div class="flip-card" data-id="d1"></div>
        <div class="flip-card" data-id="d2"></div>
      </div>
      <div class="unit-label">Days</div>
    </div>

    <div class="flip-sep">•</div>

    <!-- HOURS -->
    <div class="flip-unit">
      <div class="flip-group">
        <div class="flip-card" data-id="h1"></div>
        <div class="flip-card" data-id="h2"></div>
      </div>
      <div class="unit-label">Hours</div>
    </div>

    <div class="flip-sep">•</div>

    <!-- MINUTES -->
    <div class="flip-unit">
      <div class="flip-group">
        <div class="flip-card" data-id="m1"></div>
        <div class="flip-card" data-id="m2"></div>
      </div>
      <div class="unit-label">Minutes</div>
    </div>

    <div class="flip-sep">•</div>

    <!-- SECONDS -->
    <div class="flip-unit">
      <div class="flip-group">
        <div class="flip-card" data-id="s1"></div>
        <div class="flip-card" data-id="s2"></div>
      </div>
      <div class="unit-label">Seconds</div>
    </div>

  </div>
</div>

<script>
const weddingDate = new Date("2025-04-26T18:00:00");
const lastValues = {};

function createDigitHTML(top, bottom) {
  return `
    <div class="flip-card-top flip-card-face">${top}</div>
    <div class="flip-card-bottom flip-card-face">${bottom}</div>
  `;
}

function flipDigit(card, current, next) {
  if (current === next) return; // No flip

  // Top and bottom static states
  card.innerHTML = createDigitHTML(current, next);

  // Add animated flipping layer
  const flap = document.createElement("div");
  flap.className = "flip-animate";
  flap.textContent = current;
  card.appendChild(flap);

  // Remove after animation
  setTimeout(() => flap.remove(), 700);
}

function updateTimer() {
  const now = new Date();
  let diff = now - weddingDate;
  if (diff < 0) diff = 0;

  const totalSec = Math.floor(diff / 1000);
  const days = Math.floor(totalSec / 86400);
  const hrs = Math.floor((totalSec % 86400) / 3600);
  const mins = Math.floor((totalSec % 3600) / 60);
  const secs = totalSec % 60;

  const ds = String(days).padStart(2, "0");
  const hs = String(hrs).padStart(2, "0");
  const ms = String(mins).padStart(2, "0");
  const ss = String(secs).padStart(2, "0");

  const digits = {
    d1: ds[0], d2: ds[1],
    h1: hs[0], h2: hs[1],
    m1: ms[0], m2: ms[1],
    s1: ss[0], s2: ss[1]
  };

  // Apply updates + flip animations
  for (const id in digits) {
    const card = document.querySelector(`.flip-card[data-id="${id}"]`);
    const newVal = digits[id];
    const oldVal = lastValues[id] ?? newVal;

    flipDigit(card, oldVal, newVal);
    lastValues[id] = newVal;
  }
}

updateTimer();
setInterval(updateTimer, 1000);
</script>

<br>


    <section id="when" class="section light">
        <div class="section__svg">
            {{ partial "svgs/leaf.svg" . }}
        </div>
        <h1 class="section__heading">The Wedding</h1>
        <section class="section__split">
            <div>
                <p class="section__subheading">When</p>
                <p class="section__text--bold">
                    Sat April 26th 2025, 6:00PM
                </p>
            </div>
            <div>
                <p class="section__subheading">Where</p>
                <p class="section__text--bold">
                    Our Lady of Prompt Succor
                </p>
                <p>
                    146 Fourth St., Westwego, LA, 70094
                </p>
            </div>
        </section>
        <!-- My CSS in this project is bad, man -->
        <!-- <section style="display:flex;flex-direction:column;align-items:center;">
            <h2 style="margin-top:2rem;" class="section__heading">Speeches</h2>

            <h3 style="margin-top:2rem;" class="section__heading">Father of Bride</h3>
            <iframe width="100%" height="315" src="https://www.youtube.com/embed/XfCBomxy7K8"
                title="YouTube video player" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>

            <h3 style="margin-top:2rem;" class="section__heading">Best Man</h3>
            <iframe width="100%" height="315" src="https://www.youtube.com/embed/JzArXpZgaOs"
                title="YouTube video player" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>

            <h3 style="margin-top:2rem;" class="section__heading">Groom</h3>
            <iframe width="100%" height="315" src="https://www.youtube.com/embed/NPhbs9SEmVc"
                title="YouTube video player" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>

        </section> -->
    </section>

    <div class="image image2"></div>


    <section id="order-of-events" class="section light">
        <div class="section__svg">
            {{ partial "svgs/leaves.svg" . }}
        </div>

        {{ $t := .Site.GetPage "/section/order-of-events" }}
        <h1 class="section__heading">{{$t.Params.title}}</h1>
        <section class="section__md-content">
            {{ $t.Content }}
        </section>
    </section>

    <div class="image image3"></div>

    <section id="travel-accommodation" class="section light">
        <div class="section__svg">
            {{ partial "svgs/leaf.svg" . }}
        </div>

        {{ $t := .Site.GetPage "/section/travel-accommodation" }}
        <h1 class="section__heading">{{$t.Params.title}}</h1>
        <section class="section__md-content">
            {{ $t.Content }}
        </section>
    </section>

    <div class="image image1"></div>

    <section id="dress" class="section light">
        <div class="section__svg">
            {{ partial "svgs/leaf.svg" . }}
        </div>

        {{ $t := .Site.GetPage "/section/dress" }}
        <h1 class="section__heading">{{$t.Params.title}}</h1>
        <section class="section__md-content">
            {{ $t.Content }}
        </section>
    </section>
    <section id="facilities-accessibility" class="section light">
        {{ $t := .Site.GetPage "/section/facilities-accessibility" }}
        <h1 class="section__heading">{{$t.Params.title}}</h1>
        <section class="section__md-content">
            {{ $t.Content }}
        </section>
    </section>
    <section id="gifts" class="section light">
        {{ $t := .Site.GetPage "/section/gifts" }}
        <h1 class="section__heading">{{$t.Params.title}}</h1>
        <section class="section__md-content">
            {{ $t.Content }}
        </section>
    </section>

    <div class="image image2"></div>

    <section id="more" class="section light" style="text-align:center;">
        <div class="section__svg">
            {{ partial "svgs/leaf.svg" . }}
        </div>
        <p style="margin-bottom:1em;">Thank you for visiting our website!</p>
        <p style="margin-bottom:1em;">We cannot wait to share this special day with you, and have all our loved ones
            under one roof for the first time in FOREVER!</p>
        <p style="margin-bottom:1em;">In the meantime, if you have any questions you can contact us both at <a
                href="mailto:info@victorianobennett.wedding">info@victorianobennett.wedding</a></p>

        <!-- <p style="margin-top:2em;margin-bottom:1em;">*</p>
        <p style="margin-bottom:1em;">Also, did you know the invitation is made of recycled paper and wild flower seeds,
            and can be planted?</p>
        <p style="margin-bottom:1em;">To plant your invitation, <a href="/plant">see instructions here</a>
        </p>
        </p>
    -->
    </section>

    <div class="scroll-top">
        <a class="scroll-top__button" href="#top">
            {{ partial "svgs/scroll-up.svg" . }}
        </a>
    </div>
</main>